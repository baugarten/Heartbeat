<li <% if (username == "") { %> style="display:none" <% } %> 
    id="username">
  <a id="username_value">
    <% if (username != "") { %> <%= username %> <% } %>
  </a>
</li>
<li <% if (username != "") { %> style="display:none" <% } %> class="dropdown" id="login">
  <a id="username_login" class="dropdown-toggle" data-toggle="dropdown" style="cursor:pointer" >login</a>
  <!-- <b class="caret"></b> -->
  <ul class="dropdown-menu" id="dropdown-menu">
    <form name="login" method="POST" action="/users/login/">
      <div style="display:none">
        <input type="hidden" name="csrfmiddlewaretoken" value="<%= csrf_token %>" />
      </div>
      <li id="error_login"></li>
      <li><label>username</label><input type="text" id="username_log" name="username"></input></li>
      <li><label>password</label><input type="password" id="password_log" name="password"></input></li>
      <li><input type="submit" value="log in!" id="login_button"></input></li>
    </form>
  </ul>
</li>
<li <% if (username == "") { %> style="display:none" <% } %> id="logout">
  <a onClick="logout('{{ csrf_token|escapejs }}')">logout</a>
</li>
<li <% if (username != "") { %> style="display:none" <% } %> id="register">
  <a style="cursor:pointer" onClick="loadPage('/users/register/')">register</a>
</li>
